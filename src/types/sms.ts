export type SmsTemplateCategory =
  | '미수금 독촉'
  | '상환/입금 안내'
  | '분할납부/약정'
  | '법적 조치/최종'
  | '감사/일상'
  | '기타';

export type SmsTemplateKey = string;

export const smsTemplates: Record<SmsTemplateCategory, Record<SmsTemplateKey, string>> = {
  '미수금 독촉': {
    '구보다_1차안내': '{고객명}님, 안녕하세요. 구보다농기계입니다.\n현재 미수금 {미수금}원이 남아 있습니다.\n불편을 드려 죄송합니다. 빠른 납부 부탁드립니다.\n문의: 010-2602-3276',
    '구보다_2차안내': '{고객명}님, 구보다농기계입니다.\n미수금 {미수금}원이 아직 입금되지 않았습니다.\n불가피한 사정이 있으시면 연락 부탁드립니다.\n문의: 010-2602-3276',
    '구보다_최종독촉': '{고객명}님, 구보다농기계입니다.\n미수금 {미수금}원이 장기간 미납되어 최종 안내드립니다.\n기한 내 미납 시 법적 조치가 진행될 수 있습니다.\n문의: 010-2602-3276',
    '구보다_납부기한': '{고객명}님, 구보다농기계입니다.\n미수금 {미수금}원에 대한 납부 기한이 {납부기한}까지입니다.\n기한 내 납부 부탁드리며, 문의사항은 언제든 연락주세요.'
  },
  '상환/입금 안내': {
    '구보다_거래요약': '{고객명}님, 구보다농기계입니다.\n현재까지 거래 {거래건수}건, 미수금 {미수금}원이 남아 있습니다.\n상세 내역이 필요하시면 언제든 문의주세요.',
    '구보다_입금확인': '{고객명}님, 구보다농기계입니다.\n입금(납부) 내역이 정상적으로 확인되었습니다. 감사합니다.\n남은 미수금: {미수금}원',
    '구보다_부분입금': '{고객명}님, 구보다농기계입니다.\n입금해주신 금액은 잘 받았습니다.\n남은 미수금은 {미수금}원입니다. 추가 납부 부탁드립니다.'
  },
  '분할납부/약정': {
    '구보다_분할납부': '{고객명}님, 구보다농기계입니다.\n미수금 {미수금}원에 대해 분할 납부가 가능합니다.\n상담을 원하시면 010-2602-3276으로 연락 부탁드립니다.',
    '구보다_분할일정': '{고객명}님, 구보다농기계입니다.\n분할 납부 일정에 따라 {납부기한}까지 {분할금액}원 입금 부탁드립니다.\n문의: 010-2602-3276',
    '구보다_약정위반': '{고객명}님, 구보다농기계입니다.\n상환 약정 일정이 지켜지지 않아 안내드립니다.\n미수금 {미수금}원, 문의: 010-2602-3276'
  },
  '법적 조치/최종': {
    '구보다_법적조치': '{고객명}님, 구보다농기계입니다.\n장기 미납으로 인해 부득이하게 법적 조치가 진행될 수 있습니다.\n미수금 {미수금}원, 문의: 010-2602-3276',
    '구보다_최종방문': '{고객명}님, 구보다농기계입니다.\n미수금 {미수금}원에 대해 최종 안내드립니다.\n기한 내 미납 시 방문 또는 법적 절차가 진행될 수 있습니다.\n문의: 010-2602-3276',
    '구보다_연체이자': '{고객명}님, 구보다농기계입니다.\n미수금 {미수금}원이 연체되어 연체 이자가 발생할 수 있습니다.\n자세한 내용은 010-2602-3276으로 문의 바랍니다.'
  },
  '감사/일상': {
    '구보다_감사': '{고객명}님, 구보다농기계를 이용해주셔서 감사합니다.\n현재 미수금 {미수금}원이 남아 있습니다. 확인 부탁드립니다.',
    '구보다_명절': '{고객명}님, 구보다농기계입니다.\n즐거운 명절 보내시길 바랍니다.\n아울러 미수금 {미수금}원이 남아 있으니 확인 부탁드립니다.\n문의: 010-2602-3276',
    '구보다_정기안내': '{고객명}님, 구보다농기계입니다.\n정기적으로 미수금 현황을 안내드립니다.\n현재 미수금: {미수금}원, 거래건수: {거래건수}건'
  },
  '기타': {
    '구보다_연락처변경': '{고객명}님, 구보다농기계입니다.\n연락처 또는 주소가 변경되셨다면 알려주시면 감사하겠습니다.\n문의: 010-2602-3276'
  }
};

export type SmsPayload = {
  to: string;
  message: string;
  customerId: string;
  templateKey: SmsTemplateKey;
  category: SmsTemplateCategory;
  variables: Record<string, string | number>;
  scheduledAt?: string; // 예약 발송 시각(ISO)
};

export interface SmsMessage {
  id: string;
  customer_id: string;
  content: string;
  status: 'pending' | 'sent' | 'failed';
  created_at: string;
  updated_at: string;
} 
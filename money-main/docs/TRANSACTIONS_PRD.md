# 거래관리(Transactions) 페이지 PRD

## 1. 상단 요약 위젯(통계)
- 전체 거래 건수
- 총 매출액 (모든 거래의 합계)
- 총 입금액 (paid 상태 합계)
- 총 미수금 (unpaid 상태 합계)
- 입금률(%) (총 입금액 / 총 매출액 × 100, 소수점 1자리)

## 2. 고객별 거래 요약 테이블
- 고객명
- 총 매출액 (해당 고객의 전체 거래 합계)
- 입금액 (해당 고객의 paid 합계)
- 미수금 (해당 고객의 unpaid 합계)
- 입금률(%) (입금액 / 총 매출액 × 100, 소수점 1자리)

## 3. 기타 기능/요구사항
- 검색/정렬/엑셀다운/상세보기 등 기존 PRD 내용 동일
- **고객명 클릭 시 해당 고객의 자세한 거래 내역(개인 미수금내역) 페이지로 이동**
  - 고객별 상세 페이지에서는 해당 고객의 전체 거래 내역, 미수금, 입금 내역, 변제 타임라인 등 상세 정보 제공

## 4. 예시 레이아웃

```
[거래관리]
┌────────────────────────────────────────────────────────────┐
│  전체 거래: 123건   총 매출액: 1,000만원   총 입금액: 800만원   총 미수금: 200만원   입금률: 80.0%  │
└────────────────────────────────────────────────────────────┘

고객명      | 총 매출액   | 입금액   | 미수금   | 입금%
---------------------------------------------------------
홍길동      | 200만원     | 180만원 | 20만원   | 90.0%
김센터      | 300만원     | 200만원 | 100만원  | 66.7%
이관공      | 500만원     | 420만원 | 80만원   | 84.0%
...

(고객명 클릭 시 → /customers/[id] 상세 페이지로 이동)
```

## 5. 고객 상세(개인 미수금내역) 페이지 요구사항

### 1. 상세 테이블 컬럼
- 일자
- 매출유형
- 기종
- 모델
- 매출액
- 입금액
- 미수금
- 입금%

### 2. 매출유형
- 사용자가 직접 선택 가능: 새제품 판매 / 중고제품 판매 / 부품판매 / 출장 / 운송 / 기타

### 3. 기종/모델
- Supabase DB에 저장된 자료로 선택(autocomplete 등)
- 필요시 새 기종/모델 추가 가능

### 4. 입금액
- 입금수단별 구분: 현금 / 카드 / 무통장 / 중고인수 / 기타

### 5. 정렬/분석
- 일자별 정렬(최신순/과거순)
- 기종별 정렬/필터(특정 기종만 보기)

---

> 위 요구사항을 고객 상세(개인 미수금내역) 페이지 설계 및 개발에 반드시 반영할 것.

---

> 이 파일은 거래관리 페이지의 요구사항(PRD)을 지속적으로 추가/수정/관리하는 용도로 사용합니다.
> 변경사항이 있을 때마다 이 문서를 업데이트하세요. 

## 6. 거래 상세/입력/수정 기능 확장
- 고객명은 중복 없이 한 번만 입력된다(고객별 거래 그룹핑)
- 고객이 거래건수가 여러 건일 경우, 거래를 선택하는 메커니즘 제공(상단 탭/리스트/버튼 등)
- 신규 거래 생성 기능(고객 선택 후 거래 추가)
- 기존 거래에 거래 내용을 추가하는 기능(입금, 비고 등)
- 입금 등록 기능(거래별 입금내역 입력/수정)
- 거래별 상세 내역을 건별로 출력(상세보기/인쇄) 